import{_ as o,c,I as s,j as t,w as i,ay as l,a as e,E as n,o as h}from"./chunks/framework.DZK845Al.js";const U=JSON.parse('{"title":"通用数据","description":"","frontmatter":{"title":"通用数据","icon":"database"},"headers":[],"relativePath":"event/general-data.md","filePath":"event/general-data.md","lastUpdated":1718668560000}'),p={name:"event/general-data.md"},u=l('<h2 id="所有事件" tabindex="-1">所有事件 <a class="header-anchor" href="#所有事件" aria-label="Permalink to &quot;所有事件&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>karin</code>是基于<code>kritor</code>标准进行开发。<br> 大多数情况下都符合<code>kritor</code>的标准，如有冲突，请以<code>karin</code>为准。</p></div><p>所有事件都包含以下字段：</p>',3),k={tabindex:"0"},_=t("thead",null,[t("tr",null,[t("th",null,"属性"),t("th",null,"类型"),t("th",null,"说明")])],-1),g=t("tr",null,[t("td",null,"self_id"),t("td",null,"string"),t("td",null,"机器人ID")],-1),b=t("tr",null,[t("td",null,"user_id"),t("td",null,"string"),t("td",null,"触发用户ID")],-1),E=t("tr",null,[t("td",null,"group_id"),t("td",null,"string"),t("td",null,[e("触发群ID("),t("code",null,"非群聊无值"),e(")")])],-1),m=t("tr",null,[t("td",null,"time"),t("td",null,"number"),t("td",null,"事件触发时间戳")],-1),y=t("td",null,"event",-1),v=t("td",null,"触发的事件类型",-1),f=t("td",null,"sub_event",-1),F=t("td",null,"触发事件子类型",-1),D=t("td",null,"contact",-1),A=t("td",null,"消息来源信息",-1),C=t("td",null,"sender",-1),P=t("td",null,"消息触发者信息",-1),q=t("tr",null,[t("td"),t("td"),t("td")],-1),x=t("tr",null,[t("td",null,"isMaster"),t("td",null,"boolean"),t("td",null,"是否为机器人主人")],-1),I=t("tr",null,[t("td",null,"isAdmin"),t("td",null,"boolean"),t("td",null,"是否为机器人管理员")],-1),T=t("tr",null,[t("td",null,"isPrivate"),t("td",null,"boolean"),t("td",null,"是否为私聊")],-1),N=t("tr",null,[t("td",null,"isGroup"),t("td",null,"boolean"),t("td",null,"是否为群聊")],-1),B=t("tr",null,[t("td",null,"isGuild"),t("td",null,"boolean"),t("td",null,"是否为频道")],-1),j=t("tr",null,[t("td",null,"store"),t("td",null,"Map"),t("td",null,"存储器 由开发者自行调用")],-1),V=t("tr",null,[t("td",null,"bot"),t("td",null,"Function"),t("td",null,"机器人自身实例")],-1),w=l(`<h2 id="事件类型" tabindex="-1">事件类型 <a class="header-anchor" href="#事件类型" aria-label="Permalink to &quot;事件类型&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">提示</p><p><code>event</code> 为 <code>message</code> 或 <code>message_sent</code> 时，数据是一致的。<br> 区别在于 <code>message</code> 是收到的消息，<code>message_sent</code> 是发送的消息。<br> 在大多数协议端中，<code>message_sent</code>事件均为用户手动开启。</p></div><table tabindex="0"><thead><tr><th>事件类型</th><th>说明</th></tr></thead><tbody><tr><td>message</td><td>消息事件</td></tr><tr><td>message_sent</td><td>bot自身触发的消息事件</td></tr><tr><td>notice</td><td>通知事件</td></tr><tr><td>request</td><td>请求事件</td></tr></tbody></table><h2 id="消息来源" tabindex="-1">消息来源 <a class="header-anchor" href="#消息来源" aria-label="Permalink to &quot;消息来源&quot;">​</a></h2><blockquote><p><code>contact</code>是一个<code>Object</code>对象哦~</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> contact</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scene: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;group&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 场景</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  peer: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123456&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 群为群ID、频道为频道ID、好友为好友ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sub_peer: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123456&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 一般与\`peer\`相同或为空，频道场景为\`channel_id\`。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>以下是scene的值：</p><ul><li><code>group</code>: 群聊</li><li><code>private</code>: 私聊</li><li><code>guild</code>: 频道</li><li><code>nearby</code>: 附近的人</li><li><code>stranger</code>: 陌生人</li><li><code>stranger_from_group</code>: 群临时会话</li></ul><h2 id="消息触发者" tabindex="-1">消息触发者 <a class="header-anchor" href="#消息触发者" aria-label="Permalink to &quot;消息触发者&quot;">​</a></h2><blockquote><p><code>sender</code>是一个<code>Object</code>对象哦~</p></blockquote><div class="tip custom-block"><p class="custom-block-title">提示</p><p>无需关心<code>uin</code>字段，<code>user_id</code>默认使用<code>uid</code>，后续会废弃<code>uin</code>字段。<br> 这里的字段目前还处于不断完善中，可能会有变动。</p></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sender</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  uid: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123456&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 发送者uid</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  uin: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123456&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 发送者uin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  nick: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;昵称&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 发送者昵称 可能为空</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  role: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;群身份&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 仅在群聊生效 可能为空</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>以下是role的值：</p><ul><li><code>owner</code>: 群主</li><li><code>admin</code>: 管理员</li><li><code>member</code>: 普通成员</li><li><code>unknown</code>: 未知</li></ul><h2 id="事件子类型" tabindex="-1">事件子类型 <a class="header-anchor" href="#事件子类型" aria-label="Permalink to &quot;事件子类型&quot;">​</a></h2><table tabindex="0"><thead><tr><th>场景名称</th><th>对应事件</th><th>说明</th></tr></thead><tbody><tr><td>group</td><td>message</td><td>群聊</td></tr><tr><td>private</td><td>message</td><td>私聊</td></tr><tr><td>guild</td><td>message</td><td>频道</td></tr><tr><td>nearby</td><td>message</td><td>附近的人</td></tr><tr><td>stranger</td><td>message</td><td>陌生人</td></tr><tr><td></td><td></td><td></td></tr><tr><td>friend_poke</td><td>notice</td><td>好友戳一戳</td></tr><tr><td>friend_recall</td><td>notice</td><td>好友消息撤回</td></tr><tr><td>group_poke</td><td>notice</td><td>群戳一戳</td></tr><tr><td>group_card_changed</td><td>notice</td><td>群名片变动</td></tr><tr><td>group_member_unique_title_changed</td><td>notice</td><td>群成员专属头衔改变</td></tr><tr><td>group_essence_changed</td><td>notice</td><td>群精华消息变动</td></tr><tr><td>group_recall</td><td>notice</td><td>群消息撤回</td></tr><tr><td>group_member_increase</td><td>notice</td><td>群成员增加</td></tr><tr><td>group_member_decrease</td><td>notice</td><td>群成员减少</td></tr><tr><td>group_admin_change</td><td>notice</td><td>群管理员变动</td></tr><tr><td>group_member_ban</td><td>notice</td><td>群成员禁言</td></tr><tr><td>group_sign_in</td><td>notice</td><td>群签到</td></tr><tr><td>group_whole_ban</td><td>notice</td><td>群全员禁言</td></tr><tr><td>group_file_uploaded</td><td>notice</td><td>群文件上传</td></tr><tr><td></td><td></td><td></td></tr><tr><td>friend_apply</td><td>request</td><td>新的好友申请</td></tr><tr><td>group_apply</td><td>request</td><td>新的加群请求</td></tr></tbody></table>`,16);function S(G,$,O,L,M,R){const a=n("NolebasePageProperties"),d=n("VPNolebaseInlineLinkPreview"),r=n("NolebaseGitChangelog");return h(),c("div",null,[s(a),u,t("table",k,[_,t("tbody",null,[g,b,E,m,t("tr",null,[y,t("td",null,[s(d,{href:"#事件类型"},{default:i(()=>[e("object")]),_:1})]),v]),t("tr",null,[f,t("td",null,[s(d,{href:"#事件子类型"},{default:i(()=>[e("string")]),_:1})]),F]),t("tr",null,[D,t("td",null,[s(d,{href:"#消息来源"},{default:i(()=>[e("object")]),_:1})]),A]),t("tr",null,[C,t("td",null,[s(d,{href:"#消息触发者"},{default:i(()=>[e("object")]),_:1})]),P]),q,x,I,T,N,B,j,V])]),w,s(r)])}const z=o(p,[["render",S]]);export{U as __pageData,z as default};
